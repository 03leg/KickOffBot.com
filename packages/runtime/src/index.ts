import { BotProject } from "@kickoffbot.com/types";
import { MyTelegramBot } from "./MyTelegramBot";
import process from "process";

// eslint-disable-next-line @typescript-eslint/no-var-requires
require("dotenv").config({
  path: "../../builder/.env",
});

const botDescription: BotProject = {"blocks":[{"id":"/start","blockType":1,"title":"/start","position":{"x":0,"y":0},"elements":[]},{"id":"c62724be-e3d8-43a0-8c4e-ab53c29dd3ba","blockType":0,"title":"Block #2","position":{"x":494.4000244140625,"y":-81.79998779296875},"elements":[{"id":"content-text-5d0a90cd-b43e-4b75-a00f-6ac73df05abd","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"emnjd\",\"text\":\"Boolean value: <%variables.variable1_boolean%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>Boolean value: &lt;%variables.variable1_boolean%&gt;</p>","telegramContent":"Boolean value: &lt;%variables.variable1_boolean%&gt;"},{"id":"logic-change-variable-a1497c89-ea73-4a49-a53d-75db2bef57d5","type":"logic-change-variable","selectedVariableId":"8c2cf35c-85f1-403e-8a2f-d2bcb12fc9a4","workflowDescription":{"strategy":1}},{"id":"content-text-495db9aa-9c22-4619-8f1f-70b56f1b5492","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"jplo\",\"text\":\"Boolean value: <%variables.variable1_boolean%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>Boolean value: &lt;%variables.variable1_boolean%&gt;</p>","telegramContent":"Boolean value: &lt;%variables.variable1_boolean%&gt;"},{"id":"logic-change-variable-191e5fca-0476-4ac0-b581-95582e57dbb3","type":"logic-change-variable","selectedVariableId":"8c2cf35c-85f1-403e-8a2f-d2bcb12fc9a4","workflowDescription":{"strategy":0}},{"id":"content-text-8a176244-1984-42b7-827f-4f25fe0fd04e","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"c4gkq\",\"text\":\"Boolean value: <%variables.variable1_boolean%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>Boolean value: &lt;%variables.variable1_boolean%&gt;</p>","telegramContent":"Boolean value: &lt;%variables.variable1_boolean%&gt;"},{"id":"logic-change-variable-adef3411-c6d3-40f6-adcf-2948b66e2d23","type":"logic-change-variable","selectedVariableId":"8c2cf35c-85f1-403e-8a2f-d2bcb12fc9a4","workflowDescription":{"strategy":2}},{"id":"content-text-68d87b96-6374-48ef-ad63-305a9b3770df","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"dq48u\",\"text\":\"Boolean value: <%variables.variable1_boolean%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>Boolean value: &lt;%variables.variable1_boolean%&gt;</p>","telegramContent":"Boolean value: &lt;%variables.variable1_boolean%&gt;"},{"id":"content-text-1bd6ab00-8e4d-487a-b1d8-cebc7fa3c654","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"6dfd3\",\"text\":\"Your score: <%variables.score%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>Your score: &lt;%variables.score%&gt;</p>","telegramContent":"Your score: &lt;%variables.score%&gt;"},{"id":"e387f154-b63c-4d0c-b47b-ac4dff9b9302","type":"logic-change-variable","selectedVariableId":"be7cb079-b7c6-4beb-a218-722e68ba27d0","workflowDescription":{"expression":"<%variables.score%> + 5 +12 +12 +12 +12 +12 +12+ <%variables.score%>+ 5 +12 +12 +12 +12 +12 +12+ 5 +12 +12 +12 +12 +12 +12+ <%variables.score%> + 5 +12 +12 +12 +12 +12 +12"}},{"id":"content-text-bd10ec4d-e3a7-4b48-ae42-e785aa797f64","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"995a2\",\"text\":\"Your score: <%variables.score%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>Your score: &lt;%variables.score%&gt;</p>","telegramContent":"Your score: &lt;%variables.score%&gt;"},{"id":"c50db313-d09b-4729-91fa-e38104ffaea9","type":"logic-change-variable","selectedVariableId":"be7cb079-b7c6-4beb-a218-722e68ba27d0","workflowDescription":{"expression":"0"}},{"id":"content-text-a01542a4-8166-4522-8567-8fa948d04300","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"9ev26\",\"text\":\"Your score: <%variables.score%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>Your score: &lt;%variables.score%&gt;</p>","telegramContent":"Your score: &lt;%variables.score%&gt;"},{"id":"content-text-bae92ac1-915e-4752-a2bd-fb7978c32114","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"9nrns\",\"text\":\"<%variables.variable1_str%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>&lt;%variables.variable1_str%&gt;</p>","telegramContent":"&lt;%variables.variable1_str%&gt;"},{"id":"8fe45cb5-b34b-476c-ae10-7a53f2440e7d","type":"logic-change-variable","selectedVariableId":"67303549-94aa-4af8-b0e2-20c36b6ee5ac","workflowDescription":{"expression":"Hi, I'm new value! Your score: <%variables.score%>"}},{"id":"content-text-37006322-3866-4625-b5df-c7d9f638ca37","type":"content-text","attachments":[],"json":"{\"blocks\":[{\"key\":\"fqqcn\",\"text\":\"<%variables.variable1_str%>\",\"type\":\"unstyled\",\"depth\":0,\"inlineStyleRanges\":[],\"entityRanges\":[],\"data\":{}}],\"entityMap\":{}}","htmlContent":"<p>&lt;%variables.variable1_str%&gt;</p>","telegramContent":"&lt;%variables.variable1_str%&gt;"}]}],"links":[{"id":"43f6d2ec-8033-49ab-a687-bb692f149902","input":{"blockId":"c62724be-e3d8-43a0-8c4e-ab53c29dd3ba"},"output":{"blockId":"/start"}}],"variables":[{"id":"be7cb079-b7c6-4beb-a218-722e68ba27d0","name":"score","type":"number","value":0},{"id":"67303549-94aa-4af8-b0e2-20c36b6ee5ac","name":"variable1_str","type":"string","value":"default value"},{"id":"8c2cf35c-85f1-403e-8a2f-d2bcb12fc9a4","name":"variable1_boolean","type":"boolean","value":true}],"transformDescription":{"x":271,"y":69,"scale":1.14}};

(function start() {
  console.log("started!");

  const newBot = new MyTelegramBot(
    process.env.TELEGRAM_BOT_TOKEN ?? "",
    botDescription
  );
  // eslint-disable-next-line @typescript-eslint/no-floating-promises
  newBot.setup();

  process.on("SIGINT", () => {
    process.exit();
  });

  process.stdin.resume();
})();
